<html>
<head>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<title>SGonzalez A3</title>
<style>
.myList {width:280px;float:left; margin: 10px; background-color:#AFA; padding:0px 5px; border-radius: 5px;}
#d1 {width:50%; float:left; background-color:#DDD;}
#d2 {width:50%; float:left; background-color:#DDD;}
.normalItem {background-color:#AAFFAA;}
.redItem {background-color:#FF0000;}
.greenItem {background-color:#00FF00;}
.blueItem {background-color:#0000FF;}
</style>
</head>
<body>
<h1>LIST MANAGER</h1>
<div id="d1">
<form action="#">
<fieldset>
<legend>LIST</legend>
<b>LIST: </b><select id="slist"></select>
<b>NAME: </b><input type="text" id="tname" value="" size="10" />
<br/><br/>
<button id="b1">ADD</button>
<button id="b2">EDIT</button>
<button id="b3">EMPTY LIST</button>
<button id="b4">REMOVE</button>
</fieldset>
</form>
</div>
<div id="d2">
<form action="#">
<fieldset>
<legend>LIST ITEMS</legend>
<b>ITEM: </b><select id="sitems"></select>
<b>TEXT: </b><input type="text" id="titem" value="" size="10" />
<b>STYLE: </b><select id="sstyle">
<option value="normalItem">NORMAL</option>
<option value="redItem">RED</option>
<option value="greenItem">GREEN</option>
<option value="blueItem">BLUE</option>
</select>
<br/><br/>
<button id="itemb1">APPEND</button>
<button id="itemb2">PREPEND</button>
<button id="itemb3">EDIT</button>
<button id="itemb4">REMOVE</button>
</fieldset>
</form>
</div>
<hr/>
<div id="lists">
</div>
</body>
<script> 

$(document).ready(function() {

	function updateLlista(){
		var llistes = $("div.myList");
		var opt="";
		for(i=0; i<llistes.length; i++){
			var val = llistes[i].id;
			opt+="<option value='"+val+"'>"+val+"</option>";
		}
		$("#slist").html(opt);
		$("#slist").val(val);
	}

	function updateItems(){
		var sellista = $("#slist").val();
		var x = $("div#"+sellista+" ul li");
		var opt="";
		for(i=0; i<x.length; i++){
			var val = x[i].innerHTML;
			opt+="<option value='"+val+"'>"+val+"</option>";
		}
		$("#sitems").html(opt);
		$("#sitems").val(val);
	}

	$("#b1").click(function(){
	     var llista = $("#tname").val();
	     var newd = $("<div/>",{id: llista, class:"myList"});
	     var newh = $("<h1/>").html(llista);
	     var newu = $("<ul/>",{id: "ul_"+llista});
	     newd.append(newh);
	     newd.append(newu);
	     $("#lists").append(newd);
	     updateLlista();
	});

	$("#b2").click(function(){
  	});

    $("#b3").click(function(){
       var sellista = $("#slist").val();
       $("div#"+sellista+" ul").empty();
       updateLlista();
  	});

  	$("#b4").click(function(){
     	var sellista = $("#slist").val();
     	$("div#"+sellista).remove();
     	updateLlista();
  	});

    $("#itemb1").click(function(){
	     var sellista = $("#slist").val();
	     var item = $("#titem").val();
	     var text = $("<li/>", {"id":item, "text":item});
	     var classe = $("#sstyle").val();
	     text.addClass(classe);
	     $("div#"+sellista+" ul").append(text);
	     updateItems();
    });

    $("#itemb2").click(function(){
	     var sellista = $("#slist").val();
	     var item = $("#titem").val();
	     var text = $("<li/>", {"id":item, "text":item});
	     var classe = $("#sstyle").val();
	     text.addClass(classe);
	     $("div#"+sellista+" ul").prepend(text);
	     updateItems();
     });

    $("#itemb3").click(function(){

    });

    $("#itemb4").click(function(){
	  	var itemsel = $("#sitems").val();
	  	var sellista = $("#slist").val();
	  	$("div#"+sellista+" ul li#"+itemsel).remove();
	  	updateItems();
    });

});

</script>
</html>
